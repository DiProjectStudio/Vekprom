import{_ as A,O as v,S as n,N as _,P as p,A as E,f as d,T as P,I as C}from"./vendor.min.js";function T(){const e=navigator.userAgent;return e.includes("Firefox")?"firefox":e.includes("Chrome")?"chrome":e.includes("Safari")&&!e.includes("Chrome")?"safari":e.includes("Edge")?"edge":null}function q(){document.getElementById("map")&&function(){var a;ymaps.ready(o);let s;function o(){a=new ymaps.Map("map",{center:[55.730502,37.644782],zoom:16,controls:[]}),s=new ymaps.Placemark([55.730502,37.644782],{},{preset:"islands#redIcon"}),a.geoObjects.add(s),A(a,{preventScroll:!0,preventTouch:!0})}}(),console.log("map.js initialized")}function I(){window.Fancybox=v,v.bind("[data-fancybox]",{dragToClose:!1,autoFocus:!1,l10n:{CLOSE:"Закрыть",NEXT:"Следующий",PREV:"Предыдущий",MODAL:"Вы можете закрыть это модальное окно, нажав клавишу ESC"}}),v.bind('[data-fancybox="gallery"]',{dragToClose:!1,autoFocus:!1,Toolbar:{display:{left:[],right:["close"]}},closeButton:!1,Thumbs:{type:"classic"},l10n:{CLOSE:"Закрыть",NEXT:"Следующий",PREV:"Предыдущий",MODAL:"Вы можете закрыть это модальное окно, нажав клавишу ESC"}}),console.log("popup.js initialized")}function V(){const e=document.querySelector(".hero-slider")?document.querySelector(".hero-slider"):null,t=e?e.getAttribute("data-autoplay"):null;new n(".hero-slider .swiper",{modules:[_,p,E,d],slidesPerView:1,spaceBetween:20,loop:!0,autoplay:{delay:t,disableOnInteraction:!1},pagination:{el:".swiper-pagination",clickable:!0,renderBullet:function(i,u){return`<div class="${u}"><div class="progress-bar"></div></div>`}},on:{slideChangeTransitionStart:function(){document.querySelectorAll(".progress-bar").forEach(i=>{i.style.width="0",i.style.transition="none"})},slideChangeTransitionEnd:function(){const i=document.querySelector(".swiper-pagination-bullet-active .progress-bar");setTimeout(()=>{i.style.width="100%",i.style.transition=`width ${t/1e3}s linear`},10)}}}),document.addEventListener("DOMContentLoaded",function(){const i=document.querySelector(".swiper-pagination-bullet-active .progress-bar");i.style.width="100%",i.style.transition=`width ${t/1e3}s linear`}),new n(".hero-tape",{modules:[d],slidesPerView:"auto",freeMode:!0}),document.querySelectorAll(".card-item").forEach((i,u)=>{const b=i.querySelector(".nested-pagination");b&&b.setAttribute("data-slide",u+1);const M=i.querySelector(".swiper");new n(M,{modules:[p],slidesPerView:1,spaceBetween:10,pagination:{el:`.nested-pagination[data-slide="${u+1}"]`,clickable:!0}})}),new n(".sale .main-swiper",{modules:[_,p,d],slidesPerView:"auto",spaceBetween:10,freeMode:!0,slidesOffsetBefore:10,slidesOffsetAfter:10,pagination:{el:".main-pagination",clickable:!0},navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},breakpoints:{768:{spaceBetween:16,slidesOffsetBefore:16,slidesOffsetAfter:16},1280:{slidesPerView:3,spaceBetween:16,freeMode:!1,slidesOffsetBefore:0,slidesOffsetAfter:0},1440:{slidesPerView:3,spaceBetween:20,freeMode:!1,slidesOffsetBefore:0,slidesOffsetAfter:0}}});const s=()=>window.innerWidth<1280?new n(".projects",{modules:[d],slidesPerView:"auto",spaceBetween:10,freeMode:!0,slidesOffsetBefore:10,slidesOffsetAfter:10,breakpoints:{768:{spaceBetween:16,slidesOffsetBefore:16,slidesOffsetAfter:16}}}):null;let o=s();const r=()=>{window.innerWidth>=1280&&o!==null?(o.destroy(!0,!0),o=null):window.innerWidth<1280&&o===null&&(o=s())};window.addEventListener("resize",r);const l=new n(".product__thumbs .swiper",{slidesPerView:"auto",spaceBetween:10,watchSlidesProgress:!0,direction:"horizontal"});new n(".product__main .swiper",{modules:[p,P],slidesPerView:1,spaceBetween:30,thumbs:{swiper:l},pagination:{el:".product__main .swiper-pagination",clickable:!0}}),new n(".slider .main-swiper",{modules:[d],slidesPerView:"auto",spaceBetween:10,freeMode:!0,slidesOffsetBefore:10,slidesOffsetAfter:10,breakpoints:{768:{spaceBetween:16,slidesOffsetBefore:16,slidesOffsetAfter:16}}}),console.log("slider.js initialized")}document.addEventListener("DOMContentLoaded",e=>{T(),q(),I(),V()});const y=T();y&&document.documentElement.classList.add("browser-"+y);const z=()=>$(window).width()>=1280;let m=z();C({mask:"+7 (999) 999-99-99",showMaskOnHover:!1,showMaskOnFocus:!1,onBeforePaste:(e,t)=>e.replace(/^8/,"")}).mask("[phone-number]");C({regex:"^[0-9]*$",allowMinus:!1,showMaskOnHover:!1,showMaskOnFocus:!1,placeholder:""}).mask("[number-only]");$("#burger").on("click",e=>{if($("#mobile-menu").length===0){const s=$('<div id="mobile-menu" class="mobile-menu"></div>');$("#header").append(s),s.append($(".header__search").clone(!0)),s.append($(".header__category").clone(!0)),s.append($(".header__nav").clone(!0)),s.append($(".header__selection").clone(!0)),w()}const t=$("#header"),a=$("#mobile-menu");t.hasClass("mobile-menu-active")?(t.removeClass("mobile-menu-active"),a.fadeOut(200),$("body").removeClass("overflow-hidden")):(t.addClass("mobile-menu-active"),a.fadeIn(200),$("body").addClass("overflow-hidden"))});const w=()=>{const e=$("#mobile-menu"),t=e.find(".header__category-item > a"),a=e.find(".header__menu-item.has-child > a");t.off("click").on("click",r=>{r.preventDefault(),s($(r.currentTarget).parent(),".header__category-item")}),a.off("click").on("click",r=>{r.preventDefault(),o($(r.currentTarget).parent(),".header__menu-item")});function s(r,l){r.hasClass("active")?(e.removeClass("expanded"),r.removeClass("active"),e.find(`${l}`).show(),e.find(".header__search, .header__nav, .header__selection").show()):(e.addClass("expanded"),r.addClass("active"),e.find(`${l}:not(.active)`).hide(),e.find(".header__search, .header__nav, .header__selection").hide())}function o(r,l){r.hasClass("active")?(e.removeClass("expanded"),r.removeClass("active"),e.find(`${l}`).show(),e.find(".header__search, .header__category, .header__bar, .header__selection").show()):(e.addClass("expanded"),r.addClass("active"),e.find(`${l}:not(.active)`).hide(),e.find(".header__search, .header__category, .header__bar, .header__selection").hide())}$(window).off("resize.mobileSubmenu").on("resize.mobileSubmenu",()=>{m||w()})};w();$(".header__main .search-icon").on("click",e=>{const t=$(e.currentTarget).closest(".header__search"),a=t.find(".input-search");!m&&$(e.currentTarget).closest(".header__main").length&&!t.hasClass("active")&&(e.preventDefault(),t.addClass("active"),a.addClass("focus"),a.find("input").focus(),$(".input-search__clear").one("click",()=>{a.removeClass("focus"),t.removeClass("active")}),$(document).one("click",s=>{!$(s.target).closest(".input-search").length&&!$(s.target).closest(".search-icon").length&&(a.removeClass("focus"),t.removeClass("active"))}))});const N=()=>{const e=$(".header__search"),t=e.find(".input-search"),a=t.find("input"),s=window.innerWidth-document.documentElement.clientWidth;m&&(a.on("focus",()=>{console.log("Input field focused"),$("body").addClass("bg-overlay overflow-hidden"),$("body").css("padding-right",`${s}px`),t.addClass("focus"),e.addClass("active")}),a.on("blur",()=>{$("body").removeClass("bg-overlay overflow-hidden"),$("body").css("padding-right","0"),t.removeClass("focus"),e.removeClass("active")}))};N();const L=()=>{if(m){const e=$(".header__category-item");e.off("mouseenter mouseleave"),e.on("mouseenter",()=>{$("body").addClass("bg-overlay"),$(".header__main").addClass("focus")}).on("mouseleave",()=>{$("body").removeClass("bg-overlay"),$(".header__main").removeClass("focus")})}};L();const g=$("#header-catalog-btn"),h=$("#header-catalog"),k=$("body");function S(){k.removeClass("bg-overlay"),h.removeClass("active"),g.removeClass("active")}g.on("click",e=>{g.toggleClass("active"),h.toggleClass("active"),k.toggleClass("bg-overlay")});$(document).on("click",e=>{!$(e.target).closest("#header-catalog, #header-catalog-btn, #header_search").length&&h.hasClass("active")&&S()});$(document).on("keyup",e=>{e.key==="Escape"&&h.hasClass("active")&&S()});$(".header__catalog-item").hover(e=>{$(".header__catalog-item").removeClass("active"),$(".header__subcatalog").removeClass("active"),$(`.header__subcatalog[data-active=${$(e.currentTarget).attr("data-catalog")}]`).addClass("active"),$(e.currentTarget).addClass("active")});$(".qty-input .qty").on("click",e=>{let t=$(e.currentTarget).parent().find("input"),a=Number(t.val()),s=Number(t.attr("max-number"));$(e.currentTarget).hasClass("qty-minus")&&a>1&&(t.val(a-1),a-1<s&&$(e.currentTarget).parent().find(".qty-plus").removeAttr("disabled")),$(e.currentTarget).hasClass("qty-plus")&&a<s&&(t.val(a+1),a+1===s&&$(e.currentTarget).attr("disabled",!0))});$(".qty-input input").on("input",e=>{let t=$(e.currentTarget),a=Number(t.val()),s=Number(t.attr("max-number"));a<s?t.parent().find(".qty-plus").removeAttr("disabled"):t.parent().find(".qty-plus").attr("disabled",!0),(a<1||isNaN(a))&&t.val(1)});$(".product__type-item").on("click",e=>{$(e.currentTarget).hasClass("selected")||($(e.currentTarget).parent().find(".product__type-item").removeClass("selected"),$(e.currentTarget).addClass("selected"))});$("#copy-article, #copy-link").on("click",e=>{$("#copy-temp").remove(),$(e.currentTarget).find(".tooltip").remove();var t=$('<input id="copy-temp">');$("body").append(t);let a="";if($(e.currentTarget).attr("id")==="copy-article"?a=$("#article").text():$(e.currentTarget).attr("id")==="copy-link"&&(a=window.location.href),t.val(a).select(),document.execCommand("copy"),t.remove(),$(e.currentTarget).attr("id")==="copy-article")var s=$('<div class="tooltip"><div class="tooltip__content"><div class="tooltip__title">Скопировано в буфер обмена</div></div></div>');else if($(e.currentTarget).attr("id")==="copy-link")var s=$('<div class="tooltip"><div class="tooltip__content"><div class="tooltip__title">Ссылка скопирована в буфер обмена</div></div></div>');$(e.currentTarget).append(s),s.addClass("tooltip-show"),setTimeout(()=>{s.remove()},2e3)});const f=$(".tooltip"),D=$(".tooltip__icon");D.on("click",e=>{$(e.currentTarget).parent().hasClass("active")?$(e.currentTarget).parent().removeClass("active"):(f.removeClass("active"),$(e.currentTarget).parent().addClass("active"))});$(document).on("click",e=>{!$(e.target).closest(f).length&&f.hasClass("active")&&f.removeClass("active")});let c=$('<div class="fixed-bar"></div>'),F=$(".product__main .swiper-slide:first-child img").clone();c.append(F);$("body").prepend(c);const O=()=>$(".breadcrumbs").innerHeight()+$(".product").innerHeight()+$(".header").innerHeight();let x=O();const B=()=>{let e=$(window).scrollTop();$(window).width()>=1280?e>=x?($("body").addClass("product-fixed-bar"),c.css({top:"0%"})):($("body").removeClass("product-fixed-bar"),c.css({top:"-10%"})):($("body").removeClass("product-fixed-bar"),c.css({top:"-10%"}))};$(window).on("scroll resize",function(){x=O(),B()});B();$(".expand-btn").on("click",e=>{$(e.currentTarget).hasClass("expanded")?($(e.currentTarget).removeClass("expanded"),$(e.currentTarget).closest(".detail-desc").addClass("hidden-block")):($(e.currentTarget).addClass("expanded"),$(e.currentTarget).closest(".detail-desc").removeClass("hidden-block"))});
