import{_ as M,O as g,S as l,N as _,P as f,A,f as d,T as P,I as T}from"./vendor.min.js";function k(){const e=navigator.userAgent;return e.includes("Firefox")?"firefox":e.includes("Chrome")?"chrome":e.includes("Safari")&&!e.includes("Chrome")?"safari":e.includes("Edge")?"edge":null}function q(){document.getElementById("map")&&function(){var a;ymaps.ready(o);let s;function o(){a=new ymaps.Map("map",{center:[55.730502,37.644782],zoom:16,controls:[]}),s=new ymaps.Placemark([55.730502,37.644782],{},{preset:"islands#redIcon"}),a.geoObjects.add(s),M(a,{preventScroll:!0,preventTouch:!0})}}()}function V(){window.Fancybox=g,g.bind("[data-fancybox]",{dragToClose:!1,autoFocus:!1,l10n:{CLOSE:"Закрыть",NEXT:"Следующий",PREV:"Предыдущий",MODAL:"Вы можете закрыть это модальное окно, нажав клавишу ESC"}}),g.bind('[data-fancybox="gallery"]',{dragToClose:!1,autoFocus:!1,Toolbar:{display:{left:[],right:["close"]}},closeButton:!1,Thumbs:{type:"classic"},l10n:{CLOSE:"Закрыть",NEXT:"Следующий",PREV:"Предыдущий",MODAL:"Вы можете закрыть это модальное окно, нажав клавишу ESC"}})}function I(){const e=document.querySelector(".hero-slider")?document.querySelector(".hero-slider"):null,t=e?e.getAttribute("data-autoplay"):null;new l(".hero-slider .swiper",{modules:[_,f,A,d],slidesPerView:1,spaceBetween:20,loop:!0,autoplay:{delay:t,disableOnInteraction:!1},pagination:{el:".swiper-pagination",clickable:!0,renderBullet:function(i,c){return`<div class="${c}"><div class="progress-bar"></div></div>`}},on:{slideChangeTransitionStart:function(){document.querySelectorAll(".progress-bar").forEach(i=>{i.style.width="0",i.style.transition="none"})},slideChangeTransitionEnd:function(){const i=document.querySelector(".swiper-pagination-bullet-active .progress-bar");setTimeout(()=>{i.style.width="100%",i.style.transition=`width ${t/1e3}s linear`},10)}}}),document.addEventListener("DOMContentLoaded",function(){const i=document.querySelector(".swiper-pagination-bullet-active .progress-bar");i.style.width="100%",i.style.transition=`width ${t/1e3}s linear`}),new l(".hero-tape",{modules:[d],slidesPerView:"auto",freeMode:!0}),document.querySelectorAll(".card-item").forEach((i,c)=>{const u=i.querySelector(".nested-pagination");u&&u.setAttribute("data-slide",c+1);const p=i.querySelector(".swiper");new l(p,{modules:[f],slidesPerView:1,spaceBetween:10,pagination:{el:`.nested-pagination[data-slide="${c+1}"]`,clickable:!0}})}),new l(".sale .main-swiper",{modules:[_,f,d],slidesPerView:"auto",spaceBetween:10,freeMode:!0,slidesOffsetBefore:10,slidesOffsetAfter:10,pagination:{el:".main-pagination",clickable:!0},navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},breakpoints:{768:{spaceBetween:16,slidesOffsetBefore:16,slidesOffsetAfter:16},1280:{slidesPerView:3,spaceBetween:16,freeMode:!1,slidesOffsetBefore:0,slidesOffsetAfter:0},1440:{slidesPerView:3,spaceBetween:20,freeMode:!1,slidesOffsetBefore:0,slidesOffsetAfter:0}}});const s=()=>window.innerWidth<1280?new l(".projects",{modules:[d],slidesPerView:"auto",spaceBetween:10,freeMode:!0,slidesOffsetBefore:10,slidesOffsetAfter:10,breakpoints:{768:{spaceBetween:16,slidesOffsetBefore:16,slidesOffsetAfter:16}}}):null;let o=s();const r=()=>{if(window.innerWidth<1280){const i=document.querySelectorAll(".slider"),c=[];return i.forEach(u=>{const p=u.querySelector(".main-swiper");p&&c.push(new l(p,{modules:[d],slidesPerView:"auto",spaceBetween:10,freeMode:!0,slidesOffsetBefore:10,slidesOffsetAfter:10,breakpoints:{768:{slidesOffsetBefore:16,slidesOffsetAfter:16}}}))}),c}else return[]};let n=r();const x=()=>{o&&(o.destroy(!0,!0),o=null),n.length>0&&(n.forEach(i=>{i&&i.destroy&&i.destroy(!0,!0)}),n=[])},B=()=>{window.innerWidth>=1280&&(o||n.length>0)?x():window.innerWidth<1280&&(!o||n.length===0)&&(o=s(),n=r())};window.addEventListener("resize",B);const E=new l(".product__thumbs .swiper",{slidesPerView:"auto",spaceBetween:10,watchSlidesProgress:!0,direction:"horizontal"});new l(".product__main .swiper",{modules:[f,P],slidesPerView:1,spaceBetween:30,thumbs:{swiper:E},pagination:{el:".product__main .swiper-pagination",clickable:!0}})}document.addEventListener("DOMContentLoaded",e=>{k(),q(),V(),I()});const y=k();y&&document.documentElement.classList.add("browser-"+y);const N=()=>$(window).width()>=1280;let h=N();T({mask:"+7 (999) 999-99-99",showMaskOnHover:!1,showMaskOnFocus:!1,onBeforePaste:(e,t)=>e.replace(/^8/,"")}).mask("[phone-number]");T({regex:"^[0-9]*$",allowMinus:!1,showMaskOnHover:!1,showMaskOnFocus:!1,placeholder:""}).mask("[number-only]");$("#burger").on("click",e=>{if($("#mobile-menu").length===0){const s=$('<div id="mobile-menu" class="mobile-menu"></div>');$("#header").append(s),s.append($(".header__search").clone(!0)),s.append($(".header__category").clone(!0)),s.append($(".header__nav").clone(!0)),s.append($(".header__selection").clone(!0)),w()}const t=$("#header"),a=$("#mobile-menu");t.hasClass("mobile-menu-active")?(t.removeClass("mobile-menu-active"),a.fadeOut(200),$("body").removeClass("overflow-hidden")):(t.addClass("mobile-menu-active"),a.fadeIn(200),$("body").addClass("overflow-hidden"))});const w=()=>{const e=$("#mobile-menu"),t=e.find(".header__category-item > a"),a=e.find(".header__menu-item.has-child > a");t.off("click").on("click",r=>{r.preventDefault(),s($(r.currentTarget).parent(),".header__category-item")}),a.off("click").on("click",r=>{r.preventDefault(),o($(r.currentTarget).parent(),".header__menu-item")});function s(r,n){r.hasClass("active")?(e.removeClass("expanded"),r.removeClass("active"),e.find(`${n}`).show(),e.find(".header__search, .header__nav, .header__selection").show()):(e.addClass("expanded"),r.addClass("active"),e.find(`${n}:not(.active)`).hide(),e.find(".header__search, .header__nav, .header__selection").hide())}function o(r,n){r.hasClass("active")?(e.removeClass("expanded"),r.removeClass("active"),e.find(`${n}`).show(),e.find(".header__search, .header__category, .header__bar, .header__selection").show()):(e.addClass("expanded"),r.addClass("active"),e.find(`${n}:not(.active)`).hide(),e.find(".header__search, .header__category, .header__bar, .header__selection").hide())}$(window).off("resize.mobileSubmenu").on("resize.mobileSubmenu",()=>{h||w()})};w();$(".header__main .search-icon").on("click",e=>{const t=$(e.currentTarget).closest(".header__search"),a=t.find(".input-search");!h&&$(e.currentTarget).closest(".header__main").length&&!t.hasClass("active")&&(e.preventDefault(),t.addClass("active"),a.addClass("focus"),a.find("input").focus(),$(".input-search__clear").one("click",()=>{a.removeClass("focus"),t.removeClass("active")}),$(document).one("click",s=>{!$(s.target).closest(".input-search").length&&!$(s.target).closest(".search-icon").length&&(a.removeClass("focus"),t.removeClass("active"))}))});const z=()=>{const e=$(".header__search"),t=e.find(".input-search"),a=t.find("input"),s=window.innerWidth-document.documentElement.clientWidth;h&&(a.on("focus",()=>{console.log("Input field focused"),$("body").addClass("bg-overlay overflow-hidden"),$("body").css("padding-right",`${s}px`),t.addClass("focus"),e.addClass("active")}),a.on("blur",()=>{$("body").removeClass("bg-overlay overflow-hidden"),$("body").css("padding-right","0"),t.removeClass("focus"),e.removeClass("active")}))};z();const L=()=>{if(h){const e=$(".header__category-item");e.off("mouseenter mouseleave"),e.on("mouseenter",()=>{$("body").addClass("bg-overlay"),$(".header__main").addClass("focus")}).on("mouseleave",()=>{$("body").removeClass("bg-overlay"),$(".header__main").removeClass("focus")})}};L();const b=$("#header-catalog-btn"),v=$("#header-catalog"),S=$("body");function O(){S.removeClass("bg-overlay"),v.removeClass("active"),b.removeClass("active")}b.on("click",e=>{b.toggleClass("active"),v.toggleClass("active"),S.toggleClass("bg-overlay")});$(document).on("click",e=>{!$(e.target).closest("#header-catalog, #header-catalog-btn, #header_search").length&&v.hasClass("active")&&O()});$(document).on("keyup",e=>{e.key==="Escape"&&v.hasClass("active")&&O()});$(".header__catalog-item").hover(e=>{$(".header__catalog-item").removeClass("active"),$(".header__subcatalog").removeClass("active"),$(`.header__subcatalog[data-active=${$(e.currentTarget).attr("data-catalog")}]`).addClass("active"),$(e.currentTarget).addClass("active")});$(".qty-input .qty").on("click",e=>{let t=$(e.currentTarget).parent().find("input"),a=Number(t.val()),s=Number(t.attr("max-number"));$(e.currentTarget).hasClass("qty-minus")&&a>1&&(t.val(a-1),a-1<s&&$(e.currentTarget).parent().find(".qty-plus").removeAttr("disabled")),$(e.currentTarget).hasClass("qty-plus")&&a<s&&(t.val(a+1),a+1===s&&$(e.currentTarget).attr("disabled",!0))});$(".qty-input input").on("input",e=>{let t=$(e.currentTarget),a=Number(t.val()),s=Number(t.attr("max-number"));a<s?t.parent().find(".qty-plus").removeAttr("disabled"):t.parent().find(".qty-plus").attr("disabled",!0),(a<1||isNaN(a))&&t.val(1)});$(".product__type-item").on("click",e=>{$(e.currentTarget).hasClass("selected")||($(e.currentTarget).parent().find(".product__type-item").removeClass("selected"),$(e.currentTarget).addClass("selected"))});$("#copy-article, #copy-link").on("click",e=>{$("#copy-temp").remove(),$(e.currentTarget).find(".tooltip").remove();var t=$('<input id="copy-temp">');$("body").append(t);let a="";if($(e.currentTarget).attr("id")==="copy-article"?a=$("#article").text():$(e.currentTarget).attr("id")==="copy-link"&&(a=window.location.href),t.val(a).select(),document.execCommand("copy"),t.remove(),$(e.currentTarget).attr("id")==="copy-article")var s=$('<div class="tooltip"><div class="tooltip__content"><div class="tooltip__title">Скопировано в буфер обмена</div></div></div>');else if($(e.currentTarget).attr("id")==="copy-link")var s=$('<div class="tooltip"><div class="tooltip__content"><div class="tooltip__title">Ссылка скопирована в буфер обмена</div></div></div>');$(e.currentTarget).append(s),s.addClass("tooltip-show"),setTimeout(()=>{s.remove()},2e3)});const m=$(".tooltip"),D=$(".tooltip__icon");D.on("click",e=>{$(e.currentTarget).parent().hasClass("active")?$(e.currentTarget).parent().removeClass("active"):(m.removeClass("active"),$(e.currentTarget).parent().addClass("active"))});$(document).on("click",e=>{!$(e.target).closest(m).length&&m.hasClass("active")&&m.removeClass("active")});if($("body").hasClass("page-product")){let e=$('<div class="fixed-bar"></div>'),t=$(".product__main .swiper-slide:first-child img").clone();e.append(t),$("body").prepend(e);const a=()=>$(".breadcrumbs").innerHeight()+$(".product").innerHeight()+$(".header").innerHeight();let s=a();const o=()=>{let r=$(window).scrollTop();$(window).width()>=1280?r>=s?($("body").addClass("product-fixed-bar"),e.css({top:"0%"})):($("body").removeClass("product-fixed-bar"),e.css({top:"-10%"})):($("body").removeClass("product-fixed-bar"),e.css({top:"-10%"}))};$(window).on("scroll resize",function(){s=a(),o()}),o()}$(".expand-btn").on("click",e=>{$(e.currentTarget).hasClass("expanded")?($(e.currentTarget).removeClass("expanded"),$(e.currentTarget).closest(".detail-desc").addClass("hidden-block")):($(e.currentTarget).addClass("expanded"),$(e.currentTarget).closest(".detail-desc").removeClass("hidden-block"))});$(".card-action__item").on("click",e=>{$(e.currentTarget).hasClass("active")?$(e.currentTarget).removeClass("active"):$(e.currentTarget).addClass("active")});$(".product__block-btn").on("click",e=>{$(e.currentTarget).hasClass("active")?$(e.currentTarget).removeClass("active"):$(e.currentTarget).addClass("active")});$(".tab").on("click",e=>{$(e.currentTarget).closest(".tabs").find(".tab").removeClass("active"),$(e.currentTarget).addClass("active"),$(".detail").removeClass("active"),$(`.detail[data-active=${$(e.currentTarget).attr("data-show")}]`).addClass("active")});const F=$("#props-anchor"),C=$(".details");F.on("click",e=>{C.length&&(C[0].scrollIntoView({behavior:"smooth",block:"center",inline:"start"}),$(".tab").removeClass("active"),$('.tab[data-show="2"]').addClass("active"),$(".detail").removeClass("active"),$('.detail[data-active="2"]').addClass("active"))});
