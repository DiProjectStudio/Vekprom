import{_ as A,O as _,S as d,N as k,P as v,A as M,f as p,T as q,I as y}from"./vendor.min.js";function O(){const e=navigator.userAgent;return e.includes("Firefox")?"firefox":e.includes("Chrome")?"chrome":e.includes("Safari")&&!e.includes("Chrome")?"safari":e.includes("Edge")?"edge":null}function P(){document.getElementById("map")&&function(){var t;ymaps.ready(i);let s;function i(){t=new ymaps.Map("map",{center:[55.730502,37.644782],zoom:16,controls:[]}),s=new ymaps.Placemark([55.730502,37.644782],{},{preset:"islands#redIcon"}),t.geoObjects.add(s),A(t,{preventScroll:!0,preventTouch:!0})}}()}function V(){window.Fancybox=_,_.bind("[data-fancybox]",{dragToClose:!1,autoFocus:!1,l10n:{CLOSE:"Закрыть",NEXT:"Следующий",PREV:"Предыдущий",MODAL:"Вы можете закрыть это модальное окно, нажав клавишу ESC"}}),_.bind('[data-fancybox="gallery"]',{dragToClose:!1,autoFocus:!1,Toolbar:{display:{left:[],right:["close"]}},closeButton:!1,Thumbs:{type:"classic"},l10n:{CLOSE:"Закрыть",NEXT:"Следующий",PREV:"Предыдущий",MODAL:"Вы можете закрыть это модальное окно, нажав клавишу ESC"}})}function I(){const e=document.querySelector(".hero-slider")?document.querySelector(".hero-slider"):null,a=e?e.getAttribute("data-autoplay"):null;new d(".hero-slider .swiper",{modules:[k,v,M,p],slidesPerView:1,spaceBetween:20,loop:!0,autoplay:{delay:a,disableOnInteraction:!1},pagination:{el:".swiper-pagination",clickable:!0,renderBullet:function(n,u){return`<div class="${u}"><div class="progress-bar"></div></div>`}},on:{slideChangeTransitionStart:function(){document.querySelectorAll(".progress-bar").forEach(n=>{n.style.width="0",n.style.transition="none"})},slideChangeTransitionEnd:function(){const n=document.querySelector(".swiper-pagination-bullet-active .progress-bar");setTimeout(()=>{n.style.width="100%",n.style.transition=`width ${a/1e3}s linear`},10)}}}),document.addEventListener("DOMContentLoaded",function(){const n=document.querySelector(".swiper-pagination-bullet-active .progress-bar");n.style.width="100%",n.style.transition=`width ${a/1e3}s linear`}),new d(".hero-tape",{modules:[p],slidesPerView:"auto",freeMode:!0}),document.querySelectorAll(".card-item").forEach((n,u)=>{const f=n.querySelector(".nested-pagination");f&&f.setAttribute("data-slide",u+1);const m=n.querySelector(".swiper");new d(m,{modules:[v],slidesPerView:1,spaceBetween:10,pagination:{el:`.nested-pagination[data-slide="${u+1}"]`,clickable:!0}})}),new d(".sale .main-swiper",{modules:[k,v,p],slidesPerView:"auto",spaceBetween:10,freeMode:!0,slidesOffsetBefore:10,slidesOffsetAfter:10,pagination:{el:".main-pagination",clickable:!0},navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},breakpoints:{768:{spaceBetween:16,slidesOffsetBefore:16,slidesOffsetAfter:16},1280:{slidesPerView:3,spaceBetween:16,freeMode:!1,slidesOffsetBefore:0,slidesOffsetAfter:0},1440:{slidesPerView:3,spaceBetween:20,freeMode:!1,slidesOffsetBefore:0,slidesOffsetAfter:0}}});const s=()=>window.innerWidth<1280?new d(".projects",{modules:[p],slidesPerView:"auto",spaceBetween:10,freeMode:!0,slidesOffsetBefore:10,slidesOffsetAfter:10,breakpoints:{768:{spaceBetween:16,slidesOffsetBefore:16,slidesOffsetAfter:16}}}):null;let i=s();const r=()=>{if(window.innerWidth<1280){const n=document.querySelectorAll(".slider"),u=[];return n.forEach(f=>{const m=f.querySelector(".main-swiper");m&&u.push(new d(m,{modules:[p],slidesPerView:"auto",spaceBetween:10,freeMode:!0,slidesOffsetBefore:10,slidesOffsetAfter:10,breakpoints:{768:{slidesOffsetBefore:16,slidesOffsetAfter:16}}}))}),u}else return[]};let o=r();const l=()=>{i&&(i.destroy(!0,!0),i=null),o.length>0&&(o.forEach(n=>{n&&n.destroy&&n.destroy(!0,!0)}),o=[])},c=()=>{window.innerWidth>=1280&&(i||o.length>0)?l():window.innerWidth<1280&&(!i||o.length===0)&&(i=s(),o=r())};window.addEventListener("resize",c);const w=new d(".product__thumbs .swiper",{slidesPerView:"auto",spaceBetween:10,watchSlidesProgress:!0,direction:"horizontal"});new d(".product__main .swiper",{modules:[v,q],slidesPerView:1,spaceBetween:30,thumbs:{swiper:w},pagination:{el:".product__main .swiper-pagination",clickable:!0}})}function N(){$(".js-filter-btn").on("click",e=>{$(".catalog__aside").addClass("show"),$("body").addClass("overflow-hidden")}),$(".js-filter-close").on("click",e=>{$(".catalog__aside").removeClass("show"),$("body").removeClass("overflow-hidden")}),$(".range").each(function(){const e=$(this),a=e.find(".range-min"),t=e.find(".range-max"),s=e.find(".min-value"),i=e.find(".max-value"),r=e.find(".range-highlight");function o(){let l=parseInt(a.val()),c=parseInt(t.val());const w=l/a.attr("max")*100,n=c/t.attr("max")*100;l>c&&(a.val(c),l=c),c<l&&(t.val(l),c=l),r.css({left:`${w}%`,right:`${100-n}%`}),s.val(l),i.val(c)}a.on("input",o),t.on("input",o),o()}),$(".js-sorting").on("click",e=>{$(e.currentTarget).closest(".sorting").hasClass("dropdown")?$(e.currentTarget).closest(".sorting").removeClass("dropdown"):($(e.currentTarget).closest(".sorting").addClass("dropdown"),$(document).on("click",a=>{!$(a.target).closest(".js-sorting").length&&$(".sorting").hasClass("dropdown")&&$(".sorting").removeClass("dropdown")}))}),$(".js-view").on("click",e=>{$(".js-view").removeClass("active"),$(e.currentTarget).hasClass("active")||$(e.currentTarget).addClass("active"),$(e.currentTarget).hasClass("js-table-list")?$(".catalog__wrap").addClass("table-list"):$(".catalog__wrap").removeClass("table-list")})}function z(){const e=t=>{t.style.display="none";var s=t.parentNode,i=s.querySelector("input");i.removeAttribute("disabled"),i.focus();var r=s.querySelector(".personal__data-action");r.classList.add("active")},a=t=>{var s=t.parentNode,i=s.closest(".personal__data-item").querySelector(".edit"),r=s.closest(".personal__data-item").querySelector("input");i.style.display="flex",s.classList.remove("active"),r.setAttribute("disabled","")};window.personalEdit=e,window.editCancel=a,$(".order__btn").on("click",t=>{$(t.currentTarget).closest(".order").toggleClass("expanded"),$(t.currentTarget).closest(".order").find(".order__body").slideToggle()})}document.addEventListener("DOMContentLoaded",e=>{O(),P(),V(),I(),N(),z()});const S=O();S&&document.documentElement.classList.add("browser-"+S);const L=()=>$(window).width()>=1280;let g=L();y({mask:"+7 (999) 999-99-99",showMaskOnHover:!1,showMaskOnFocus:!1,onBeforePaste:(e,a)=>e.replace(/^8/,"")}).mask("[data-phone-number]");y({regex:"^[0-9]*$",allowMinus:!1,showMaskOnHover:!1,showMaskOnFocus:!1,placeholder:""}).mask("[data-number-only]");y({alias:"numeric",groupSeparator:" ",autoGroup:!0,digits:0,rightAlign:!1}).mask("[data-financial]");$("#burger").on("click",e=>{if($("#mobile-menu").length===0){const s=$('<div id="mobile-menu" class="mobile-menu"></div>');$("#header").append(s),s.append($(".header__search").clone(!0)),s.append($(".header__category").clone(!0)),s.append($(".header__nav").clone(!0)),s.append($(".header__selection").clone(!0)),T()}const a=$("#header"),t=$("#mobile-menu");a.hasClass("mobile-menu-active")?(a.removeClass("mobile-menu-active"),t.fadeOut(200),$("body").removeClass("overflow-hidden")):(a.addClass("mobile-menu-active"),t.fadeIn(200),$("body").addClass("overflow-hidden"))});const T=()=>{const e=$("#mobile-menu"),a=e.find(".header__category-item > a"),t=e.find(".header__menu-item.has-child > a");a.off("click").on("click",r=>{r.preventDefault(),s($(r.currentTarget).parent(),".header__category-item")}),t.off("click").on("click",r=>{r.preventDefault(),i($(r.currentTarget).parent(),".header__menu-item")});function s(r,o){r.hasClass("active")?(e.removeClass("expanded"),r.removeClass("active"),e.find(`${o}`).show(),e.find(".header__search, .header__nav, .header__selection").show()):(e.addClass("expanded"),r.addClass("active"),e.find(`${o}:not(.active)`).hide(),e.find(".header__search, .header__nav, .header__selection").hide())}function i(r,o){r.hasClass("active")?(e.removeClass("expanded"),r.removeClass("active"),e.find(`${o}`).show(),e.find(".header__search, .header__category, .header__bar, .header__selection").show()):(e.addClass("expanded"),r.addClass("active"),e.find(`${o}:not(.active)`).hide(),e.find(".header__search, .header__category, .header__bar, .header__selection").hide())}$(window).off("resize.mobileSubmenu").on("resize.mobileSubmenu",()=>{g||T()})};T();$(".header__main .search-icon").on("click",e=>{const a=$(e.currentTarget).closest(".header__search"),t=a.find(".input-search");!g&&$(e.currentTarget).closest(".header__main").length&&!a.hasClass("active")&&(e.preventDefault(),a.addClass("active"),t.addClass("focus"),t.find("input").focus(),$(".input-search__clear").one("click",()=>{t.removeClass("focus"),a.removeClass("active")}),$(document).one("click",s=>{!$(s.target).closest(".input-search").length&&!$(s.target).closest(".search-icon").length&&(t.removeClass("focus"),a.removeClass("active"))}))});const j=()=>{const e=$(".header__search"),a=e.find(".input-search"),t=a.find("input"),s=window.innerWidth-document.documentElement.clientWidth;g&&(t.on("focus",()=>{console.log("Input field focused"),$("body").addClass("bg-overlay overflow-hidden"),$("body").css("padding-right",`${s}px`),a.addClass("focus"),e.addClass("active")}),t.on("blur",()=>{$("body").removeClass("bg-overlay overflow-hidden"),$("body").css("padding-right","0"),a.removeClass("focus"),e.removeClass("active")}))};j();const F=()=>{if(g){const e=$(".header__category-item");e.off("mouseenter mouseleave"),e.on("mouseenter",()=>{$("body").addClass("bg-overlay"),$(".header__main").addClass("focus")}).on("mouseleave",()=>{$("body").removeClass("bg-overlay"),$(".header__main").removeClass("focus")})}};F();const C=$("#header-catalog-btn"),b=$("#header-catalog"),B=$("body");function E(){B.removeClass("bg-overlay"),b.removeClass("active"),C.removeClass("active")}C.on("click",e=>{C.toggleClass("active"),b.toggleClass("active"),B.toggleClass("bg-overlay")});$(document).on("click",e=>{!$(e.target).closest("#header-catalog, #header-catalog-btn, #header_search").length&&b.hasClass("active")&&E()});$(document).on("keyup",e=>{e.key==="Escape"&&b.hasClass("active")&&E()});$(".header__catalog-item").hover(e=>{$(".header__catalog-item").removeClass("active"),$(".header__subcatalog").removeClass("active"),$(`.header__subcatalog[data-active=${$(e.currentTarget).attr("data-catalog")}]`).addClass("active"),$(e.currentTarget).addClass("active")});$(".qty-input .qty").on("click",e=>{let a=$(e.currentTarget).parent().find("input"),t=Number(a.val()),s=Number(a.attr("max-number"));$(e.currentTarget).hasClass("qty-minus")&&t>1&&(a.val(t-1),t-1<s&&$(e.currentTarget).parent().find(".qty-plus").removeAttr("disabled")),$(e.currentTarget).hasClass("qty-plus")&&t<s&&(a.val(t+1),t+1===s&&$(e.currentTarget).attr("disabled",!0))});$(".qty-input input").on("input",e=>{let a=$(e.currentTarget),t=Number(a.val()),s=Number(a.attr("max-number"));t<s?a.parent().find(".qty-plus").removeAttr("disabled"):a.parent().find(".qty-plus").attr("disabled",!0),(t<1||isNaN(t))&&a.val(1)});$(".product__type-item").on("click",e=>{$(e.currentTarget).hasClass("selected")||($(e.currentTarget).parent().find(".product__type-item").removeClass("selected"),$(e.currentTarget).addClass("selected"))});$("#copy-article, #copy-link").on("click",e=>{$("#copy-temp").remove(),$(e.currentTarget).find(".tooltip").remove();var a=$('<input id="copy-temp">');$("body").append(a);let t="";if($(e.currentTarget).attr("id")==="copy-article"?t=$("#article").text():$(e.currentTarget).attr("id")==="copy-link"&&(t=window.location.href),a.val(t).select(),document.execCommand("copy"),a.remove(),$(e.currentTarget).attr("id")==="copy-article")var s=$('<div class="tooltip"><div class="tooltip__content"><div class="tooltip__title">Скопировано в буфер обмена</div></div></div>');else if($(e.currentTarget).attr("id")==="copy-link")var s=$('<div class="tooltip"><div class="tooltip__content"><div class="tooltip__title">Ссылка скопирована в буфер обмена</div></div></div>');$(e.currentTarget).append(s),s.addClass("tooltip-show"),setTimeout(()=>{s.remove()},2e3)});const h=$(".tooltip"),D=$(".tooltip__icon");D.on("click",e=>{$(e.currentTarget).parent().hasClass("active")?$(e.currentTarget).parent().removeClass("active"):(h.removeClass("active"),$(e.currentTarget).parent().addClass("active"))});$(document).on("click",e=>{!$(e.target).closest(h).length&&h.hasClass("active")&&h.removeClass("active")});if($("body").hasClass("page-product")){let e=$('<div class="fixed-bar"></div>'),a=$(".product__main .swiper-slide:first-child img").clone();e.append(a),$("body").prepend(e);const t=()=>$(".breadcrumbs").innerHeight()+$(".product").innerHeight()+$(".header").innerHeight();let s=t();const i=()=>{let r=$(window).scrollTop();$(window).width()>=1280?r>=s?($("body").addClass("product-fixed-bar"),e.css({top:"0%"})):($("body").removeClass("product-fixed-bar"),e.css({top:"-10%"})):($("body").removeClass("product-fixed-bar"),e.css({top:"-10%"}))};$(window).on("scroll resize",function(){s=t(),i()}),i()}$(".expand-btn").on("click",e=>{$(e.currentTarget).hasClass("expanded")?($(e.currentTarget).removeClass("expanded"),$(e.currentTarget).closest(".detail-desc").addClass("hidden-block")):($(e.currentTarget).addClass("expanded"),$(e.currentTarget).closest(".detail-desc").removeClass("hidden-block"))});$(".card-action__item").on("click",e=>{$(e.currentTarget).hasClass("active")?$(e.currentTarget).removeClass("active"):$(e.currentTarget).addClass("active")});$(".product__block-btn").on("click",e=>{$(e.currentTarget).hasClass("active")?$(e.currentTarget).removeClass("active"):$(e.currentTarget).addClass("active")});$(".tab").on("click",e=>{$(e.currentTarget).closest(".tabs").find(".tab").removeClass("active"),$(e.currentTarget).addClass("active"),$(".detail").removeClass("active"),$(`.detail[data-active=${$(e.currentTarget).attr("data-show")}]`).addClass("active")});const W=$("#props-anchor"),x=$(".details");W.on("click",e=>{x.length&&(x[0].scrollIntoView({behavior:"smooth",block:"center",inline:"start"}),$(".tab").removeClass("active"),$('.tab[data-show="2"]').addClass("active"),$(".detail").removeClass("active"),$('.detail[data-active="2"]').addClass("active"))});
